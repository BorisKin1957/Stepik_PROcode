'''Считайте входные данные в таком порядке:

    целое число --> количество вампиров n;

    далее n строк формата Имя: слабость1, слабость2, ...;

    последняя строка --> характеристики оружия, перечисленные через запятую.

Для каждого вампира проверьте, есть ли хотя бы одна его слабость среди характеристик оружия.
Выведите для каждого в порядке ввода ровно одну строку:

    Вампир <Имя> уязвим для оружия! --> если совпадение есть;

    Вампир <Имя> не уязвим для оружия! --> если совпадений нет.
'''

# Создаём пустой список для хранения данных о вампирах (имя и их слабости)
data = []

# Считываем количество вампиров
n = int(input())

# Читаем n строк, каждая содержит имя и слабости в формате "Имя: слабость1, слабость2, ..."
for _ in range(n):
    # Разделяем строку по двоеточию: [0] — имя, [1] — строка со слабостями
    data.append(input().split(':'))

# Считываем строку с характеристиками оружия и разбиваем её на список по запятой с пробелом
weapons = input().split(', ')

# Перебираем всех вампиров: name — имя, weakness — строка со слабостями
for name, weakness in data:
    # Разбиваем строку со слабостями на отдельные элементы
    # Проверяем каждую слабость
    for weapon in weakness.split(', '):
        # Убираем лишние пробелы вокруг названия слабости и проверяем, есть ли она в списке оружия
        if weapon.strip() in weapons:
            # Если найдено совпадение — выводим, что вампир уязвим, и выходим из цикла по слабостям
            print(f'Вампир {name} уязвим для оружия!')
            break
    else:
        # Этот блок выполняется, только если цикл for не был прерван (не найдено ни одной слабости)
        print(f'Вампир {name} не уязвим для оружия!')
